<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card ">
                <div class="card-header card-header-text card-header-rose">
                    <div class="card-text">
                        <h4 class="card-title">Estimated Route</h4>
                    </div>
                </div>
                <div class="card-body ">
                    <h4 class="card-title"></h4>
                    <div id="estimatedRouteMap" class="map map-big"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card ">
                <div class="card-header card-header-text card-header-rose">
                    <div class="card-text">
                        <h4 class="card-title">Departure Location</h4>
                    </div>
                </div>
                <div class="card-body ">
                    <h4 class="card-title"></h4>
                    <div id="departureLocationMap" class="map"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card ">
                <div class="card-header card-header-text card-header-rose">
                    <div class="card-text">
                        <h4 class="card-title">Destination</h4>
                    </div>
                </div>
                <div class="card-body ">
                    <h4 class="card-title"></h4>
                    <div id="destinationMap" class="map"></div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script>
        function calculateRoute() {
            // Departure Map
            var from = new google.maps.LatLng(51.508470, -0.267600);
            var mapOptions = {
              zoom: 15,
              center: from,
              scrollwheel: false, //we disable de scroll over the map, it is a really annoing when you scroll through page
            }

            var map = new google.maps.Map(document.getElementById("departureLocationMap"), mapOptions);
            var marker = new google.maps.Marker({
              position: from,
              title: "Departure"
            });

            marker.setMap(map);

            // Destination Map
            var to = new google.maps.LatLng(51.525471, 0.016910);
              var mapOptions = {
                  zoom: 15,
                  center: to,
                  scrollwheel: false, //we disable de scroll over the map, it is a really annoing when you scroll through page
              }

              var map = new google.maps.Map(document.getElementById("destinationMap"), mapOptions);
              var marker = new google.maps.Marker({
                  position: to,
                  title: "Destination"
              });

              marker.setMap(map);


            // Route Calculation Map
            var myOptions = {
                                zoom: 10,
                                center: from,
                                scrollwheel: false
                            };
            // Draw the map
            var mapObject = new google.maps.Map(document.getElementById("estimatedRouteMap"), myOptions);

            var directionsService = new google.maps.DirectionsService();
            var directionsRequest = {
                                        origin: from,
                                        destination: to,
                                        travelMode: google.maps.DirectionsTravelMode.DRIVING,
                                        unitSystem: google.maps.UnitSystem.METRIC
                                    };

            directionsService.route(
                                        directionsRequest,
                                        function(response, status) {
                                            if (status == google.maps.DirectionsStatus.OK)
                                            {
                                                new google.maps.DirectionsRenderer({
                                                    map: mapObject,
                                                    directions: response
                                                });
                                            }
                                            else
                                                $("#error").append("Unable to retrieve your route<br />");
                                        }
                                    );
            }

    </script>

    <!--  Google Maps Plugin    -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_M3vFsidMkPcs07xZbGeKY8Pz44IwYHg&callback=calculateRoute"></script>
}

@using ECMills.Models;
@model dynamic


@{
    ViewBag.Title = "Arrangement";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@foreach (sp_GetDeceasedProfile_Result Profile in Model.Profile)
{
    <div class="card col-md-5">
        <div class="card-header card-header-primary">
            <h4 class="card-title">@Profile.Name</h4>
            <p class="card-category">@Profile.Reference</p>
        </div>
        <div class="card-body">
            <form>
                <br />
                <div class="row">
                    <div class="col-md-8">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Name</label>
                            <div class="form-control">@Profile.Name</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Known As</label>
                            <div class="form-control">@Profile.Known_As</div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Gender</label>
                            <div class="form-control">@Profile.Gender</div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Age</label>
                            <div class="form-control">@Profile.Age</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Date of Birth</label>
                            <div class="form-control">@Profile.DOB</div>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Date/Time of Death</label>
                            <div class="form-control">@Profile.TimeOfDeath</div>
                        </div>
                    </div>

                </div>
                <br />
                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Marital Status</label>
                            <div class="form-control">@Profile.MaritalStatus</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Occupation</label>
                            <div class="form-control">@Profile.Occupation</div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Religion</label>
                            <div class="form-control">@Profile.Religion</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">Religious Denomination</label>
                            <div class="form-control">@Profile.ReligiousDenomination</div>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-primary pull-left" onclick="location.href='@Url.Action("EditDeceased", "Arrangement", new { id = @Profile.Reference }, null)'">
                    Edit Profile
                </button>

                <button type="submit" class="btn btn-primary pull-right">Update Profile</button>

                <div class="clearfix"></div>
            </form>
        </div>
    </div>
}

<div class="row col-md-12">
    <div class="card col-md-5">
        <div class="card-body">
            Listed Addresses
            <hr />
            <table class="table-responsive table-hover">
                @{
                    Int32 AddressID = 0;
                    Dictionary<string, string> Variables = new Dictionary<string, string>();
                }
                @foreach (sp_GetDeceasedAddressList_Result List in Model.List)
                {
                    AddressID = AddressID + 1;

                    Variables.Add(String.Format("AddressType_{0}", AddressID.ToString()), List.AddressType);
                    Variables.Add(String.Format("AddressLine1_{0}", AddressID.ToString()), List.AddressLine1);
                    Variables.Add(String.Format("AddressLine2_{0}", AddressID.ToString()), List.AddressLine2);
                    Variables.Add(String.Format("City_{0}", AddressID.ToString()), List.City);
                    Variables.Add(String.Format("PostCode_{0}", AddressID.ToString()), List.PostCode);
                    Variables.Add(String.Format("ContactName_{0}", AddressID.ToString()), List.ContactName);
                    Variables.Add(String.Format("ContactPoints_{0}", AddressID.ToString()), List.ContactNo);
                    <tr>
                        <td>
                            <button id="@AddressID" type="button" onclick="testFunction(@AddressID)" class="AddressButton btn btn-outline-primary text-left col-md-12">
                                @List.AddressType
                                <br />
                                @List.AddressLine1, @List.AddressLine2, @List.City, @List.PostCode
                            </button>
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>

    <div class="col-md-1">

    </div>

    <div class="card table-responsive col-md-5">
        <div class="card-body">
            Address Details
            <hr />
            <div id="testerdiv">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">
                                Address Type
                            </label>
                            <div id="AddressType" class="form-control">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">
                                Address Line 1
                            </label>
                            <div id="AddressLine1" class="form-control">

                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">
                                Address Line 2
                            </label>
                            <div id="AddressLine2" class="form-control">

                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">
                                City
                            </label>
                           <div id="City" class="form-control">
                                
                            </div>  
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">
                                PostCode
                            </label>
                            <div id="PostCode" class="form-control">
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">
                                Contact Name
                            </label>
                            <div id="ContactName" class="form-control">

                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group bmd-form-group">
                            <label class="bmd-label-static">
                                Contact Points
                            </label>
                            <div id="ContactPoints" class="form-control">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Notes</label>
                            <textarea class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script type="text/javascript">
    @*$(document).on('click', '#1', function () {

        $(".variabledata").remove();

            $("#testerdiv").append('<p class="variabledata">@Variables["AddressLine1_1"]</p>');
            $("#testerdiv").append('<p class="variabledata">@Variables["AddressLine2_1"]</p>');
            $("#testerdiv").append('<p class="variabledata">@Variables["City_1"]</p>');
            $("#testerdiv").append('<p class="variabledata">@Variables["PostCode_1"]</p>');
        });

    $(document).on('click', '#2', function () {

        $(".variabledata").remove();

            $("#testerdiv").append('<p class="variabledata">@Variables["AddressLine1_2"]</p>');
            $("#testerdiv").append('<p class="variabledata">@Variables["AddressLine2_2"]</p>');
            $("#testerdiv").append('<p class="variabledata">@Variables["City_2"]</p>');
            $("#testerdiv").append('<p class="variabledata">@Variables["PostCode_2"]</p>');
    });*@

    function testFunction(ID) {

        $("#AddressType").empty();
        $("#AddressLine1").empty();
        $("#AddressLine2").empty();
        $("#City").empty();
        $("#PostCode").empty();
        $("#ContactName").empty();
        $("#ContactPoints").empty();

        if (ID == 1)
        {
            $('#AddressType').append("@Variables["AddressType_1"]");
            $("#AddressLine1").append("@Variables["AddressLine1_1"]"); 
            $("#AddressLine2").append("@Variables["AddressLine2_1"]"); 
            $("#City").append("@Variables["City_1"]"); 
            $("#PostCode").append("@Variables["PostCode_1"]");  
            $('#ContactName').append("@Variables["ContactName_1"]");
            $('#ContactPoints').append("@Variables["ContactPoints_1"]");
        } else
            if (ID == 2)
            {
                $('#AddressType').append("@Variables["AddressType_2"]");
                $("#AddressLine1").append("@Variables["AddressLine1_2"]"); 
                $("#AddressLine2").append("@Variables["AddressLine2_2"]"); 
                $("#City").append("@Variables["City_2"]"); 
                $("#PostCode").append("@Variables["PostCode_2"]");  
                $('#ContactName').append("@Variables["ContactName_2"]");
                $('#ContactPoints').append("@Variables["ContactPoints_2"]"); 
            } else
                if (ID == 3)
                {
                    $('#AddressType').append("@Variables["AddressType_3"]");
                    $("#AddressLine1").append("@Variables["AddressLine1_3"]"); 
                    $("#AddressLine2").append("@Variables["AddressLine2_3"]"); 
                    $("#City").append("@Variables["City_3"]"); 
                    $("#PostCode").append("@Variables["PostCode_3"]");  
                    $('#ContactName').append("@Variables["ContactName_3"]");
                    $('#ContactPoints').append("@Variables["ContactPoints_3"]"); 
                } 
        };
    </script>
    }
